(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{1211:function(e,a,r){"use strict";r.r(a);r(147);var t,s=r(86),l=(r(145),r(22)),i=(r(146),r(87)),n=(r(118),r(53)),m=(r(186),r(120)),o=r(5),c=r(6),d=r(8),u=r(7),g=(r(494),r(492)),p=r(0),f=r.n(p),E=r(117),h=r(18),v=r(13),y=r(58),b=r(960),M=r.n(b),k=g.a.create()(t=function(e){Object(d.a)(r,e);var a=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];return(e=a.call.apply(a,[this].concat(s))).state={loading:!1},e.onSubmit=function(a){a.preventDefault(),e.props.form.validateFields(function(a,r){a||(e.setState({loading:!0}),y.b.signUp(r).then(function(a){e.setState({user:a,loading:!1})}).catch(function(a){m.a.error({message:"Failed",description:a}),e.setState({loading:!1})}))})},e.compareToFirstPassword=function(a,r,t){var s=e.props.form;r&&r!==s.getFieldValue("password")?t(e.props.intl.formatMessage({id:"user.register.passwordConfirmMessage"})):t()},e.validateToNextPassword=function(a,r,t){var s=e.props.form,l=e.state.confirmDirty;r&&l&&s.validateFields(["confirm"],{force:!0}),t()},e.handleConfirmBlur=function(a){var r=a.target.value,t=e.state.confirmDirty;e.setState({confirmDirty:t||!!r})},e.checkAgreement=function(a,r,t){r?t():t(e.props.intl.formatMessage({id:"user.register.agreementMessage"}))},e.sendToken=function(){var a=e.state.user;y.b.sendToken({id:a.id}).then(function(e){console.log(e)})},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,a=e.form,r=e.intl,t=this.state,m=t.loading,o=t.user;return f.a.createElement("div",null,f.a.createElement(E.Helmet,{title:r.formatMessage({id:"user.register"})}),f.a.createElement("div",{className:M.a.block},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-xl-12"},f.a.createElement("div",{className:M.a.inner},o&&f.a.createElement("div",null,f.a.createElement("h4",null,f.a.createElement("strong",null,f.a.createElement(v.a,{id:"user.register.hi"}),o.name,",",f.a.createElement(v.a,{id:"user.register.thanks"}))),f.a.createElement("p",{className:"mb-3"},f.a.createElement(v.a,{id:"user.register.confirmationEmail"})," ",o.email,"."),f.a.createElement("p",{className:"mb-3"},f.a.createElement(v.a,{id:"user.register.instructions"})),f.a.createElement("div",{className:"mb-3"},f.a.createElement(n.a,{type:"primary",ghost:!0,onClick:this.sendToken},f.a.createElement(v.a,{id:"user.register.resend"}))," ",f.a.createElement(v.a,{id:"user.register.resendMessage"})),f.a.createElement(h.a,{to:"/user/login",className:"btn"},"\u2190 ",f.a.createElement(v.a,{id:"user.register.continue"}))),!o&&f.a.createElement("div",{className:M.a.form},f.a.createElement("h4",{className:"text-uppercase"},f.a.createElement("strong",null,f.a.createElement(v.a,{id:"user.register.header"}))),f.a.createElement("p",null,f.a.createElement(v.a,{id:"user.register.subtitle"})),f.a.createElement("br",null),f.a.createElement(g.a,{layout:"vertical",hideRequiredMark:!0,onSubmit:this.onSubmit},f.a.createElement(g.a.Item,null,a.getFieldDecorator("name",{rules:[{required:!0,message:r.formatMessage({id:"user.register.nameMessage"})}]})(f.a.createElement(i.a,{placeholder:r.formatMessage({id:"user.register.name"})}))),f.a.createElement(g.a.Item,null,a.getFieldDecorator("surname",{rules:[{required:!0,message:r.formatMessage({id:"user.register.surnameMessage"})}]})(f.a.createElement(i.a,{placeholder:r.formatMessage({id:"user.register.surname"})}))),f.a.createElement(g.a.Item,null,a.getFieldDecorator("email",{rules:[{required:!0,message:r.formatMessage({id:"user.register.emailMessage"})}]})(f.a.createElement(i.a,{prefix:f.a.createElement(l.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),type:"email",placeholder:r.formatMessage({id:"user.register.email"})}))),f.a.createElement(g.a.Item,{hasFeedback:!0},a.getFieldDecorator("password",{rules:[{required:!0,message:r.formatMessage({id:"user.register.passwordMessage"})},{validator:this.validateToNextPassword}]})(f.a.createElement(i.a,{prefix:f.a.createElement(l.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:r.formatMessage({id:"user.register.password"})}))),f.a.createElement(g.a.Item,{hasFeedback:!0},a.getFieldDecorator("confirm",{rules:[{required:!0,message:r.formatMessage({id:"user.register.confirmMessage"})},{validator:this.compareToFirstPassword}]})(f.a.createElement(i.a,{type:"password",onBlur:this.handleConfirmBlur,placeholder:r.formatMessage({id:"user.register.confirm"})}))),f.a.createElement(g.a.Item,null,a.getFieldDecorator("i",{valuePropName:"checked",initialValue:!1,rules:[{validator:this.checkAgreement}]})(f.a.createElement(s.a,null,f.a.createElement("span",{className:"ml-3 register-link"},f.a.createElement(v.a,{id:"user.register.agreement"}))))),f.a.createElement("div",{className:"form-actions"},f.a.createElement(n.a,{type:"primary",className:"width-150 mr-4",htmlType:"submit",loading:m},f.a.createElement(v.a,{id:"user.register"})),f.a.createElement("span",{className:"ml-3 register-link"},f.a.createElement("a",{href:"/#/user/login",className:"text-primary utils__link--underlined"},f.a.createElement(v.a,{id:"user.register.login"}))," ",f.a.createElement(v.a,{id:"user.register.loginMessage"}))))))))))}}]),r}(p.Component))||t;a.default=Object(v.d)(k)},960:function(e,a,r){e.exports={login:"style_login__3E0CU",title:"style_title__3er5X",block:"style_block___-cjH",inner:"style_inner__PyrZy",form:"style_form__UgjSU"}}}]);
//# sourceMappingURL=55.429e7d34.chunk.js.map