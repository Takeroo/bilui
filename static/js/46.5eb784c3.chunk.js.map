{"version":3,"sources":["pages/author/drafts/pagedDrafts/index.js","pages/author/drafts/index.js","pages/author/drafts/style.module.scss"],"names":["confirm","PagedDrafts","state","drafts","loadDrafts","pageNumber","size","_this$props","_this","props","user","published","draftService","getUserDrafts","id","then","page","setState","content","handleDelete","draft","title","icon","react_default","a","createElement","type","className","subtitle","okText","okType","cancelText","onOk","deleteDraft","onPageChanged","pageSize","this","_this2","_this$state","Fragment","map","key","name","concat","style","wallItem","dropdown","overlay","menu","Item","href","index_es","onClick","totalPages","pagination","defaultCurrent","current","number","total","totalElements","onChange","Component","TabPane","ProfileApp","connect","_ref","intl","Helmet","formatMessage","profile","socialInfo","socialCounts","es_button","ghost","tabs","defaultActiveKey","tab","pagedDrafts","React","injectIntl","module","exports","header","actions","contentWrapper","card","wallAvatar","wallContent","wallInnerContent","wallComments","messageImg"],"mappings":"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","file":"static/js/46.5eb784c3.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport { FormattedMessage } from 'react-intl'\nimport { Dropdown, Icon, Menu, Pagination, Modal } from 'antd'\nimport { draftService } from '../../../../services'\nimport style from '../style.module.scss'\n\nconst { confirm } = Modal;\n\nclass PagedDrafts extends Component {\n\n  state = {\n    drafts:[],\n  };\n\n  componentDidMount() {\n    this.loadDrafts();\n  }\n\n  loadDrafts = (pageNumber, size) =>{\n    const { user, published } = this.props;\n    draftService.getUserDrafts(user.id, published, pageNumber, size).then(page => {\n      this.setState({drafts: page.content, page});\n    })\n  }\n\n  handleDelete = (draft) => {\n    confirm({\n      title: 'Are you sure to delete article?',\n      icon: <Icon type=\"delete\" />,\n      content: (\n        <div>\n          <div className=\"utils__title\">\n            <strong>{draft.title}</strong>\n          </div>\n          <div className=\"utils__titleDescription\">\n            {draft.subtitle}\n          </div>\n        </div>\n      ),\n      okText: 'Delete',\n      okType: 'danger',\n      cancelText: 'Cancel',\n      onOk : () => this.deleteDraft(draft.id)\n    });\n  }\n\n  deleteDraft = (id) => {\n    draftService.deleteDraft(id)\n      .then(() => {\n        this.loadDrafts();\n      })\n  }\n\n  onPageChanged = (pageNumber, pageSize) => {\n    this.loadDrafts(pageNumber - 1, pageSize);\n  }\n\n\n  render() {\n    const { drafts, page } = this.state;\n    return (\n      <>\n        {drafts.map(draft => (\n          <div key={draft.name}>\n            <div className={`${style.wallItem} clearfix`}>\n              <div className=\"mb-3\">\n                <div className=\"pull-right\">\n                  <Dropdown overlay={\n                    <Menu>\n                      <Menu.Item>\n                        <a href={`/#/article/edit?id=${draft.id}`}>\n                          <Icon type=\"edit\" />\n                          <FormattedMessage id='author.drafts.edit' />\n                        </a>\n                      </Menu.Item>\n                      <Menu.Item>\n                        <a href=\"javascript: void(0);\" onClick={() => this.handleDelete(draft)}>\n                          <Icon type=\"delete\" />\n                          <FormattedMessage id='author.drafts.delete' />\n                        </a>\n                      </Menu.Item>\n                    </Menu>\n                  }\n                  >\n                    <a className=\"ant-dropdown-link\" href=\"javascript: void(0);\">\n                      <FormattedMessage id='author.drafts.actions' />\n                      <Icon type=\"down\" />\n                    </a>\n                  </Dropdown>\n                </div>\n              </div>\n              <div>\n                <div className=\"utils__title\">\n                  {draft.title && <strong>{draft.title}</strong>}\n                  {!draft.title && <strong> Untitled draft </strong>}\n                </div>\n                <div className=\"utils__titleDescription\">\n                  {draft.subtitle}\n                </div>\n              </div>\n            </div>\n          </div>\n        ))}\n\n        {page && page.totalPages > 1 &&\n        <div className=\"mb-2\">\n          <Pagination defaultCurrent={1} current={page.number + 1} total={page.totalElements} pageSize={10} onChange={this.onPageChanged} />\n        </div>\n        }\n      </>\n    )\n  }\n}\n\nexport default PagedDrafts\n","import React from 'react'\nimport { FormattedMessage, injectIntl } from 'react-intl'\nimport { connect } from 'react-redux'\nimport { Button, Tabs } from 'antd'\nimport { Helmet } from 'react-helmet'\nimport PagedDrafts from './pagedDrafts'\nimport style from './style.module.scss'\n\nconst { TabPane } = Tabs\n\n@connect(({ user }) => ({ user }))\nclass ProfileApp extends React.Component {\n\n  render() {\n    const { user, intl } = this.props;\n    return (\n      <div>\n        <Helmet title={intl.formatMessage({id: 'author.drafts'})} />\n        <div className={style.profile}>\n          <div className=\"row\">\n            <div className=\"col-xl-12\">\n              <div className={`card card-body mb-4 ${style.socialInfo}`}>\n                <div>\n                  <h2>\n                    <span className=\"text-black mr-2\">\n                      <strong><FormattedMessage id='author.drafts.stories' /></strong>\n                    </span>\n                  </h2>\n                </div>\n                <div className={style.socialCounts}>\n                  <a href=\"/#/article/edit\">\n                    <Button type=\"primary\" ghost>\n                      <i className=\"icmn-quill mr-2\" />\n                      <FormattedMessage id='author.drafts.write' />\n                    </Button>\n                  </a>\n                </div>\n              </div>\n              <div className=\"card\">\n                <div className=\"card-body\">\n                  <Tabs defaultActiveKey=\"1\">\n                    <TabPane\n                      tab={\n                        <span>\n                          <i className=\"icmn-stack mr-1\" />\n                          <FormattedMessage id='author.drafts' />\n                        </span>\n                      }\n                      key=\"1\"\n                    >\n                      <PagedDrafts user={user} published={false} />\n                    </TabPane>\n                    <TabPane\n                      tab={\n                        <span>\n                          <i className=\"icmn-menu mr-1\" />\n                          <FormattedMessage id='author.drafts.published' />\n                        </span>\n                      }\n                      key=\"2\"\n                    >\n                      <PagedDrafts user={user} published />\n                    </TabPane>\n                  </Tabs>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default injectIntl(ProfileApp)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"style_header__2WpyF\",\"socialInfo\":\"style_socialInfo__3mCZk\",\"socialCounts\":\"style_socialCounts__2iOEF\",\"actions\":\"style_actions__ZTf9i\",\"contentWrapper\":\"style_contentWrapper__3Dflf\",\"card\":\"style_card__FDYxg\",\"wallItem\":\"style_wallItem__3iPh0\",\"wallAvatar\":\"style_wallAvatar__3wwTK\",\"wallContent\":\"style_wallContent__1oeu6\",\"wallInnerContent\":\"style_wallInnerContent__1yo6w\",\"wallComments\":\"style_wallComments__29E-a\",\"messageImg\":\"style_messageImg__cPr-7\",\"icon\":\"style_icon__1UtcM\"};"],"sourceRoot":""}