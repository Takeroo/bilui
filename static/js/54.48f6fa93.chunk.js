(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{1221:function(e,a,t){"use strict";t.r(a);t(117);var s,r=t(52),n=(t(146),t(86)),o=(t(145),t(19)),l=(t(186),t(120)),c=t(5),i=t(6),m=t(8),d=t(7),u=(t(560),t(558)),p=t(0),f=t.n(p),v=t(116),w=t(49),E=t(15),h=t(126),g=t(970),b=t.n(g),y=t(119),k=t(188),N=u.a.create()(s=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(c.a)(this,t);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=a.call.apply(a,[this].concat(r))).state={tokenLoad:!0,loading:!1,token:!0},e.onSubmit=function(a){a.preventDefault();var t=e.props.form,s=e.state.user;t.validateFields(function(a,t){a||(e.setState({loading:!0}),s.password=t.password,y.b.resetPassword(s).then(function(){e.setState({loading:!1,valid:!1,success:!0})}).catch(function(a){l.a.error({message:"Failed",description:a}),e.setState({loading:!1})}))})},e.compareToFirstPassword=function(a,t,s){var r=e.props.form;t&&t!==r.getFieldValue("password")?s("Your password and confirmation does not match!"):s()},e.validateToNextPassword=function(a,t,s){var r=e.props.form,n=e.state.confirmDirty;t&&n&&r.validateFields(["confirm"],{force:!0}),s()},e.handleConfirmBlur=function(a){var t=a.target.value,s=e.state.confirmDirty;e.setState({confirmDirty:s||!!t})},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=new URLSearchParams(this.props.location.search).get("token");a?y.b.confirmPasswordResetToken(a).then(function(a){e.setState({user:a,tokenLoad:!1,valid:!0})}).catch(function(a){e.setState({tokenLoad:!1,invalid:!0,message:a})}):this.setState({token:!1})}},{key:"render",value:function(){var e=this.props.form,a=this.state,t=a.loading,s=a.valid,l=a.invalid,c=a.token,i=a.tokenLoad,m=a.message,d=a.user,p=a.success;return c?f.a.createElement("div",null,f.a.createElement(v.Helmet,{title:"Forgot"}),f.a.createElement("div",{className:b.a.block},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-xl-12"},i&&f.a.createElement(h.a,null),p&&f.a.createElement("div",{className:b.a.inner},f.a.createElement("div",null,f.a.createElement("h4",{className:"text-uppercase"},f.a.createElement("strong",null,"Password updated")),f.a.createElement("p",{className:"mb-3"},"Your password has been successfully updated"),f.a.createElement(E.a,{to:"/user/login",className:"btn"},"\u2190 Sign in to continue"))),s&&f.a.createElement("div",{className:b.a.inner},f.a.createElement("div",{className:b.a.form},f.a.createElement("h4",{className:"text-uppercase"},f.a.createElement("strong",null,"Reset Password")),f.a.createElement("p",{className:"mb-3"},"Hey ",d.name,", please reset your password"),f.a.createElement("br",null),f.a.createElement(u.a,{layout:"vertical",hideRequiredMark:!0,onSubmit:this.onSubmit},f.a.createElement(u.a.Item,{hasFeedback:!0},e.getFieldDecorator("password",{rules:[{required:!0,message:"Please input your password"},{validator:this.validateToNextPassword}]})(f.a.createElement(n.a,{prefix:f.a.createElement(o.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"New password"}))),f.a.createElement(u.a.Item,{hasFeedback:!0},e.getFieldDecorator("confirm",{rules:[{required:!0,message:"Please confirm your password"},{validator:this.compareToFirstPassword}]})(f.a.createElement(n.a,{type:"password",onBlur:this.handleConfirmBlur,placeholder:"Confirm your password"}))),f.a.createElement("div",{className:"mb-2"},f.a.createElement(E.a,{to:"/user/login",className:"utils__link--blue utils__link--underlined"},"Back to login")),f.a.createElement("div",{className:"form-actions"},f.a.createElement(r.a,{type:"primary",className:"width-150 mr-4",htmlType:"submit",loading:t},"Reset Password"))))),l&&f.a.createElement("div",{className:b.a.inner},f.a.createElement("div",null,f.a.createElement("h4",null,f.a.createElement("strong",null,"Your password reset link is not valid")),f.a.createElement("p",{className:"mb-3"},"Please, see the below message to know what went wrong"),f.a.createElement("p",{className:"mb-3"},m),f.a.createElement(E.a,{to:"/user/login",className:"btn"},"\u2190 Sign in to continue"))))))):f.a.createElement(w.b,{component:k.a})}}]),t}(p.Component))||s;a.default=N},970:function(e,a,t){e.exports={login:"style_login__IWqGl",block:"style_block__1yHL1",inner:"style_inner__3o7oX",form:"style_form__1l7vp"}}}]);
//# sourceMappingURL=54.48f6fa93.chunk.js.map